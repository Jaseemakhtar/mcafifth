using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Data.SqlClient;

namespace DataReader
{
    class student {
        public int Id
        {
            get;
            set;
        }
        public string UserName
        {
            get;
            set;
        }
        public string Subject
        {
            get;
            set;
        }
    }

    class studaccesslayer {
        student stud = new student;

        public void displayallstudent() {
            string ConString = @"Data Source=.\SQLEXPRESS;Initial Catalog=TestDB;Integrated Security=True";
            SqlConnection con = new SqlConnection(ConString);
            string querystring = "Select * from Student";
            con.Open();
            SqlCommand cmd = new SqlCommand(querystring, con);
            SqlDataReader reader = cmd.ExecuteReader();
            while (reader.Read())
                {                   
                    stud.Id = Convert.ToInt16(reader.GetValue(0));
                    stud.UserName = reader.GetValue(1).ToString();
                    stud.Subject = reader.GetValue(2).ToString();                    

                    stud.Add(student);
                }
        }
    
    }

    class Program
    {
        static void Main(string[] args)
        {
            studaccesslayer uAL = new studaccesslayer();            
            if(stud.Count == 0)
                Console.WriteLine("No Data Fetched.");
            else
                Console.WriteLine("Data Fetched.");
        }
    }
}
